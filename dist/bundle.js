"use strict";var app=angular.module("swapiApp",["ui.router"]);app.config(function(t,e){e.otherwise("/planets/1"),t.state("planets",{url:"/planets/:page",templateUrl:"partials/planets.html",controller:"PlanetCtrl"}).state("resident",{url:"/resident/:id/:page",templateUrl:"partials/resident.html",controller:"ResidentCtrl"})});var app=angular.module("swapiApp");app.controller("PlanetCtrl",["$scope","PlanetsSrvc","ResidentSrvc","$stateParams",function(t,e,n,a){t.page=a.page,t.planets=e.planets[t.page],console.log(t.planets),t.knownResidents=n.residents,t.planets||e.getPlanets(t.page).then(function(n){console.log("response",n),t.planets=e.addPlanets(n,t.page)})["catch"](function(t){return console.error(t.status)})}]).service("PlanetsSrvc",["$http",function(t){this.planets={},this.getPlanets=function(e){return t.get("http://swapi.co/api/planets/?page="+e+"&format=json")},this.addPlanets=function(t,e){return this.planets[e]=t.data.results.map(function(t){return t.residents=t.residents.map(function(t){var t={url:t};return t.id=t.url.match(/\d+/)[0],t}),t}),this.planets[e]}}]);var app=angular.module("swapiApp");app.controller("ResidentCtrl",["$scope","$stateParams","ResidentSrvc",function(t,e,n){t.prevPage=e.page,t.character=n.residents[e.id]||n.getResident(e.id).then(function(a){t.character=n.addResident(a.data,e)})}]),app.service("ResidentSrvc",["$http",function(t){this.residents={},this.getResident=function(e){return t.get("http://swapi.co/api/people/"+e+"/?format=json")},this.addResident=function(t,e){return this.residents[e.id]=t,t}}]);